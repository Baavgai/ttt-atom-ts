{"id":"../src/tttAtoms.ts","dependencies":[{"name":"/mnt/waswin/bam_ext/repos/github_baavgai/ttt-atom-ts/tsconfig.json","includedInParent":true,"mtime":1662547951670},{"name":"/mnt/waswin/bam_ext/repos/github_baavgai/ttt-atom-ts/package.json","includedInParent":true,"mtime":1662634990227},{"name":"jotai","loc":{"line":1,"column":21,"index":21},"parent":"/mnt/waswin/bam_ext/repos/github_baavgai/ttt-atom-ts/src/tttAtoms.ts","resolved":"/mnt/waswin/bam_ext/repos/github_baavgai/ttt-atom-ts/node_modules/jotai/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetBoardAtom = exports.gameStatusAtom = exports.buildCellAtom = exports.BOARD_SIZE = void 0;\n\nvar _jotai = require(\"jotai\");\n\nvar BOARD_SIZE = 9;\nexports.BOARD_SIZE = BOARD_SIZE;\n\nvar initBoard = function initBoard() {\n  return [undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined];\n};\n\nvar boardValueAtom = (0, _jotai.atom)(initBoard());\nvar gameStatusAtom = (0, _jotai.atom)(function (get) {\n  var _a;\n\n  var board = get(boardValueAtom);\n\n  var checkWinner = function checkWinner(p) {\n    return [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]].some(function (_a) {\n      var a = _a[0],\n          b = _a[1],\n          c = _a[2];\n      return p === board[a] && p === board[b] && p === board[c];\n    }) ? p : undefined;\n  };\n\n  var winner = (_a = checkWinner(\"X\")) !== null && _a !== void 0 ? _a : checkWinner(\"O\");\n  var turn = board.reduce(function (acc, cell) {\n    return acc - (cell === undefined ? 1 : 0);\n  }, BOARD_SIZE);\n  return winner !== undefined || turn === BOARD_SIZE ? {\n    done: true,\n    winner: winner\n  } : {\n    done: false,\n    player: turn % 2 === 0 ? \"X\" : \"O\",\n    turn: turn\n  };\n});\nexports.gameStatusAtom = gameStatusAtom;\nvar resetBoardAtom = (0, _jotai.atom)(function (_) {\n  return undefined;\n}, function (_, set) {\n  return set(boardValueAtom, initBoard());\n});\nexports.resetBoardAtom = resetBoardAtom;\n\nvar buildCellAtom = function buildCellAtom(pos) {\n  return (0, _jotai.atom)(function (get) {\n    return get(boardValueAtom)[pos];\n  }, function (get, set) {\n    var status = get(gameStatusAtom);\n    console.log({\n      f: \"click\",\n      status: status\n    });\n\n    if (!status.done) {\n      var player_1 = status.player;\n      set(boardValueAtom, get(boardValueAtom).map(function (x, i) {\n        return i === pos && x === undefined ? player_1 : x;\n      }));\n    }\n  });\n};\n\nexports.buildCellAtom = buildCellAtom;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/tttAtoms.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":10,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":10,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":3,"column":23},"generated":{"line":10,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":3,"column":26},"generated":{"line":10,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":3,"column":7},"generated":{"line":10,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":13,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":13,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":15},"generated":{"line":13,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":13,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":6},"generated":{"line":13,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":13,"column":34}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":13,"column":37}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":14,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":14,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":30}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":14,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":14,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":52}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":14,"column":54}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":63}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":14,"column":65}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":74}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":14,"column":76}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":85}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":14,"column":87}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":96}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":14,"column":98}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":107}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":14,"column":108}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":20,"column":1},"generated":{"line":15,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":15,"column":1}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":17,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":17,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":17,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":17,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":17,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":17,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":28},"generated":{"line":17,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":37},"generated":{"line":17,"column":47}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":17,"column":49}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":17,"column":50}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":7},"generated":{"line":18,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":18,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":18,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":18,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":18,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":18,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":18,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":18,"column":48}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":18,"column":51}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":18,"column":53}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":21,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":21,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":21,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":21,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":21,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":26},"generated":{"line":21,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":21,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":21,"column":33}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":23,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":23,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":23,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":23,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":23,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":23,"column":40}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":29},"generated":{"line":23,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":23,"column":42}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":23,"column":44}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":24,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":14},"generated":{"line":24,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":24,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":24,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":24,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":20},"generated":{"line":24,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":24,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":24,"column":23}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":24,"column":24}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":24,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":28},"generated":{"line":24,"column":27}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":24,"column":28}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":24,"column":30}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":24,"column":31}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":24,"column":34}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":36},"generated":{"line":24,"column":35}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":24,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":39},"generated":{"line":24,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":24,"column":39}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":42},"generated":{"line":24,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":35},"generated":{"line":24,"column":42}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":24,"column":45}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":24,"column":46}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":24,"column":47}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":50},"generated":{"line":24,"column":49}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":24,"column":50}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":53},"generated":{"line":24,"column":52}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":24,"column":53}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":54}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":24,"column":56}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":58},"generated":{"line":24,"column":57}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":24,"column":58}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":61},"generated":{"line":24,"column":60}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":24,"column":61}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":64},"generated":{"line":24,"column":63}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":57},"generated":{"line":24,"column":64}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":65}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":68},"generated":{"line":24,"column":67}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":69},"generated":{"line":24,"column":68}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":68},"generated":{"line":24,"column":69}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":72},"generated":{"line":24,"column":71}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":68},"generated":{"line":24,"column":72}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":75},"generated":{"line":24,"column":74}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":68},"generated":{"line":24,"column":75}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":76}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":79},"generated":{"line":24,"column":78}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":80},"generated":{"line":24,"column":79}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":79},"generated":{"line":24,"column":80}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":83},"generated":{"line":24,"column":82}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":79},"generated":{"line":24,"column":83}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":86},"generated":{"line":24,"column":85}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":79},"generated":{"line":24,"column":86}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":87}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":90},"generated":{"line":24,"column":89}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":91},"generated":{"line":24,"column":90}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":90},"generated":{"line":24,"column":91}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":94},"generated":{"line":24,"column":93}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":90},"generated":{"line":24,"column":94}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":97},"generated":{"line":24,"column":96}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":90},"generated":{"line":24,"column":97}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":98}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":17},"generated":{"line":24,"column":100}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":24,"column":104}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":24,"column":105}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":24,"column":115}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":24,"column":117}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":32},"generated":{"line":24,"column":119}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":25,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":25,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":25,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":25,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":25,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":25,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":26,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":26,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":26,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":26,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":26,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":26,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":27,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":27,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":27,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":27,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":27,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":27,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":28,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":28,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":28,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":43},"generated":{"line":28,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":48},"generated":{"line":28,"column":24}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":49},"generated":{"line":28,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":48},"generated":{"line":28,"column":26}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":28,"column":27}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":55},"generated":{"line":28,"column":31}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":56},"generated":{"line":28,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":61},"generated":{"line":28,"column":37}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":66},"generated":{"line":28,"column":42}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":67},"generated":{"line":28,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":66},"generated":{"line":28,"column":44}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":28,"column":45}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":73},"generated":{"line":28,"column":49}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":74},"generated":{"line":28,"column":50}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":79},"generated":{"line":28,"column":55}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":84},"generated":{"line":28,"column":60}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":85},"generated":{"line":28,"column":61}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":84},"generated":{"line":28,"column":62}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":37},"generated":{"line":28,"column":63}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":29,"column":87},"generated":{"line":29,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":29,"column":5}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":29,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":29,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":31,"column":18},"generated":{"line":29,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":29,"column":22}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":31,"column":27},"generated":{"line":30,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":30,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":32,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":32,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":32,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":32,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":32,"column":33}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":32,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":37}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":47}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":51}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":53}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":58}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":63}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":64}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":39},"generated":{"line":32,"column":67}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":32,"column":69}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":43},"generated":{"line":32,"column":72}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":54},"generated":{"line":32,"column":83}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":55},"generated":{"line":32,"column":84}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":54},"generated":{"line":32,"column":87}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":32,"column":88}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":33,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":33,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":33,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":33,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":26},"generated":{"line":33,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":33,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":33,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":33,"column":26}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":33,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":33,"column":39}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":40},"generated":{"line":33,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":33,"column":45}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":44},"generated":{"line":33,"column":47}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":49},"generated":{"line":34,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":49},"generated":{"line":34,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":52},"generated":{"line":34,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":56},"generated":{"line":34,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":60},"generated":{"line":34,"column":22}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":65},"generated":{"line":34,"column":27}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":56},"generated":{"line":34,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":77},"generated":{"line":34,"column":39}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":56},"generated":{"line":34,"column":40}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":81},"generated":{"line":34,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":52},"generated":{"line":34,"column":44}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":49},"generated":{"line":34,"column":45}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":83},"generated":{"line":35,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":35,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":85},"generated":{"line":35,"column":5}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":35,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":35,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":36,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":36,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":36,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":36,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":36,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":36,"column":33}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":36,"column":37}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":48},"generated":{"line":36,"column":42}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":36,"column":52}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":36,"column":55}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":37,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":37,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":37,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":37,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":38,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":38,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":38,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":39,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":39,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":39,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":40,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":20},"generated":{"line":40,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":40,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":40,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":29},"generated":{"line":41,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":35},"generated":{"line":41,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":41,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":42},"generated":{"line":41,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":41,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":41,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":51},"generated":{"line":41,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":41,"column":26}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":55},"generated":{"line":41,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":38},"generated":{"line":41,"column":32}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":61},"generated":{"line":41,"column":35}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":41,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":67},"generated":{"line":42,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":71},"generated":{"line":42,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":71},"generated":{"line":42,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":43,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":43,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":37,"column":5},"generated":{"line":44,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":44,"column":1}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":24,"column":7},"generated":{"line":44,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":7},"generated":{"line":46,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":46,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":46,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":46,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":46,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":46,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":46,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":46,"column":48}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":46,"column":49}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":5},"generated":{"line":46,"column":51}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":47,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":47,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":47,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":48,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":48,"column":1}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":48,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":5},"generated":{"line":48,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":48,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":48,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":48,"column":19}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":48,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":49,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":49,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":19},"generated":{"line":49,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":49,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":19},"generated":{"line":49,"column":27}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":49,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":45},"generated":{"line":49,"column":38}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":19},"generated":{"line":49,"column":40}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":49,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":42,"column":48},"generated":{"line":50,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":30},"generated":{"line":50,"column":1}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":40,"column":7},"generated":{"line":50,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":53,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":53,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":53,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":53,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":53,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":53,"column":42}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":53,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":53,"column":46}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":53,"column":48}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":54,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":54,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":54,"column":13}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":54,"column":24}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":54,"column":26}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":54,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":54,"column":39}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":54,"column":41}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":55,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":55,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":18},"generated":{"line":55,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":55,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":18},"generated":{"line":55,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":55,"column":30}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":35},"generated":{"line":55,"column":31}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":55,"column":34}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":55,"column":35}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":56,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":56,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":56,"column":5}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":56,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":56,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":56,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":56,"column":23}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":48,"column":17},"generated":{"line":56,"column":25}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":57,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":18},"generated":{"line":57,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":57,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":27},"generated":{"line":57,"column":17}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":57,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":31},"generated":{"line":57,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":57,"column":35}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":57,"column":36}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":58,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":58,"column":11}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":58,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":58,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":58,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":26},"generated":{"line":59,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":59,"column":7}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":59,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":59,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":60,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":44},"generated":{"line":60,"column":12}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":44},"generated":{"line":60,"column":14}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":24},"generated":{"line":61,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":61,"column":5}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":63,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":63,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":17},"generated":{"line":63,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":63,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":24},"generated":{"line":63,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":63,"column":20}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":52,"column":30},"generated":{"line":63,"column":22}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":64,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":64,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":30},"generated":{"line":64,"column":18}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":35},"generated":{"line":64,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":41},"generated":{"line":64,"column":27}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":41},"generated":{"line":64,"column":28}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":53,"column":24},"generated":{"line":64,"column":34}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":65,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":19},"generated":{"line":65,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":20},"generated":{"line":65,"column":10}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":19},"generated":{"line":65,"column":24}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":36},"generated":{"line":65,"column":26}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":39},"generated":{"line":65,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":40},"generated":{"line":65,"column":30}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":39},"generated":{"line":65,"column":44}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":36},"generated":{"line":65,"column":45}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":56},"generated":{"line":65,"column":46}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":36},"generated":{"line":65,"column":49}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":60},"generated":{"line":65,"column":50}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":61},"generated":{"line":65,"column":60}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":60},"generated":{"line":65,"column":61}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":64},"generated":{"line":65,"column":63}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":60},"generated":{"line":65,"column":64}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":65},"generated":{"line":65,"column":66}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":15}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":71},"generated":{"line":66,"column":16}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":76},"generated":{"line":66,"column":21}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":24}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":83},"generated":{"line":66,"column":28}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":84},"generated":{"line":66,"column":29}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":89},"generated":{"line":66,"column":34}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":43}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":101},"generated":{"line":66,"column":46}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":54}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":110},"generated":{"line":66,"column":57}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":70},"generated":{"line":66,"column":58}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":111},"generated":{"line":67,"column":6}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":36},"generated":{"line":67,"column":7}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":19},"generated":{"line":67,"column":8}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":67,"column":9}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":68,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":69,"column":2}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":11},"generated":{"line":69,"column":3}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":69,"column":4}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":70,"column":0}},{"source":"../src/tttAtoms.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":70,"column":1}}],"sources":{"../src/tttAtoms.ts":"import { atom } from \"jotai\";\r\n\r\nexport const BOARD_SIZE = 9;\r\n\r\nexport type Player = \"X\" | \"O\";\r\n\r\nexport type Cell = Player | undefined;\r\n\r\nexport type GameStatus =\r\n    | { done: false; player: Player; turn: number }\r\n    | { done: true; winner: Cell }\r\n    ;\r\n\r\n// should work, but doesn't\r\n// const initBoard = (): Board => Array(BOARD_SIZE).map(() => EmptyCell);\r\nconst initBoard = (): Cell[] => [\r\n    undefined, undefined, undefined,\r\n    undefined, undefined, undefined,\r\n    undefined, undefined, undefined\r\n];\r\n\r\nconst boardValueAtom = atom(initBoard());\r\n\r\nexport const gameStatusAtom = atom<GameStatus>(\r\n    get => {\r\n        const board = get(boardValueAtom);\r\n        const checkWinner = (p: Player) =>\r\n            [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]]\r\n                .some(([a, b, c]) => p === board[a] && p === board[b] && p === board[c])\r\n                ? p\r\n                : undefined;\r\n        const winner = checkWinner(\"X\") ?? checkWinner(\"O\");\r\n        const turn = board.reduce((acc, cell) => acc - (cell === undefined ? 1 : 0), BOARD_SIZE);\r\n        return winner !== undefined || turn === BOARD_SIZE\r\n            ? { done: true, winner }\r\n            : { done: false, player: (turn % 2 === 0 ? \"X\" : \"O\"), turn };\r\n    });\r\n\r\n\r\nexport const resetBoardAtom = atom<unknown, unknown>(\r\n    _ => undefined,\r\n    (_, set) => set(boardValueAtom, initBoard())\r\n);\r\n\r\nexport const buildCellAtom = (pos: number) => {\r\n    return atom<Cell, void>(\r\n        get => get(boardValueAtom)[pos],\r\n        (get, set) => {\r\n            const status = get(gameStatusAtom);\r\n            // eslint-disable-next-line no-console\r\n            console.log({ f: \"click\", status });\r\n            if (!status.done) {\r\n                const { player } = status;\r\n                set(boardValueAtom, get(boardValueAtom).map((x, i) => i === pos && x === undefined ? player : x));\r\n            }\r\n        }\r\n    );\r\n};\r\n\r\n\r\n/*\r\n\r\nexport const boardAtom = atom<Board, number>(\r\n    get => get(boardValueAtom),\r\n    (get, set, pos) => {\r\n        const status = get(gameStatusAtom);\r\n        if (!status.done) {\r\n            const { player } = status;\r\n            set(boardValueAtom, )\r\n        \r\n\r\n        }\r\n      \r\n    }\r\n);\r\n\r\nexport const isAvailable = (board: Board, p: Pos) => board[p] === EmptyCell;\r\n\r\nexport const availableMoves = (board: Board): Pos[] =>\r\n  AllPos.filter(pos => board[pos] === EmptyCell);\r\n\r\nexport const boardTurn = (b: Board) => BOARD_SIZE - availableMoves(b).length;\r\n\r\nexport const currentPlayer = (b: Board): Player =>\r\n  boardTurn(b) % 2 === 0 ? \"X\" : \"O\";\r\n\r\nexport const getWinner = (board: Board): Cell => {\r\n  const check = (p: Player) =>\r\n    [\r\n      [0, 1, 2],\r\n      [3, 4, 5],\r\n      [6, 7, 8],\r\n      [0, 3, 6],\r\n      [1, 4, 7],\r\n      [2, 5, 8],\r\n      [0, 4, 8],\r\n      [2, 4, 6]\r\n    ].some(([a, b, c]) => p === board[a] && p === board[b] && p === board[c])\r\n      ? p\r\n      : undefined;\r\n  return check(\"X\") ?? check(\"O\") ?? EmptyCell;\r\n};\r\n\r\nexport const gameStatus = (b: Board): GameStatus => {\r\n  const winner = getWinner(b);\r\n  const turn = boardTurn(b);\r\n  return winner !== EmptyCell || turn === BOARD_SIZE\r\n    ? { done: true, winner }\r\n    : { done: false, player: currentPlayer(b), turn };\r\n};\r\n\r\nexport const place = (board: Board, pos: Pos, player: Player): Board => {\r\n  const status = gameStatus(board);\r\n  if (status.done === false && isAvailable(board, pos)) {\r\n    const v = (i: Pos): Cell => (i === pos ? player : board[i]);\r\n    return [v(0), v(1), v(2), v(3), v(4), v(5), v(6), v(7), v(8)];\r\n  } else {\r\n    return board;\r\n  }\r\n};\r\n\r\nexport const makeMove = (board: Board, pos: Pos): [boolean, Board] => {\r\n  const status = gameStatus(board);\r\n  return [\r\n    !status.done,\r\n    status.done === false ? place(board, pos, status.player) : board\r\n  ];\r\n};\r\n\r\nexport const randInt = (n: number, endRange?: number): number =>\r\n  endRange === undefined\r\n    ? Math.floor(Math.random() * n)\r\n    : n + randInt(endRange - n + 1);\r\n\r\nexport const randPick = <T>(xs: T[]): T => xs[randInt(xs.length)];\r\n\r\nexport const getBestMove = (board: Board): Pos | undefined => {\r\n  const status = gameStatus(board);\r\n  if (status.done === false) {\r\n    if (status.turn === 0) {\r\n      return 4;\r\n    } else {\r\n      const avail = availableMoves(board);\r\n      const forPlayer = (player: Player) =>\r\n        avail.find(pos => {\r\n          const gs = gameStatus(place(board, pos, player));\r\n          return gs.done === true && gs.winner === player;\r\n        });\r\n      return (\r\n        forPlayer(status.player) ||\r\n        forPlayer(status.player === \"X\" ? \"O\" : \"X\") ||\r\n        randPick(avail)\r\n      );\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n*/"},"lineCount":null}},"error":null,"hash":"cada787e5849a044884460e9aa2d7250","cacheData":{"env":{}}}